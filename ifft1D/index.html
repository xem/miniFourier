<tt>
<h2>Mini Inverse FFT 1D</h1>

<p><b>Input:</b>&nbsp; <input size=50 id=i1 value="[[10.000,0.000],[-2.000,2.000],[-2.000,0.000],[-2.000,-2.000]]">
<p><b>Output:</b> <input size=50 id=i2 readonly>
<p><button id=ok>Compute</button>

<script>


// Golf starts here
// =================

IFFT=(F,L=F.length,h=L/2,t,a=[],o=[],P,M,T)=>{for(t=L;t--;)(t&1?o:a)[t>>1]=F[t];for(h>1&&(IFFT(a),IFFT(o)),t=h;t--;)with(Math)M=cos(P=PI*t/h)*o[t][0]-sin(P)*o[t][1],T=cos(P)*o[t][1]+sin(P)*o[t][0],F[t]=[a[t][0]+M,a[t][1]+T],F[t+h]=[a[t][0]-M,a[t][1]-T];return F.map(a=>[a[0]/L,a[1]/L])}

// Golf ends here
// ==============

ok.onclick = () => {

  I = eval(i1.value);
  
  I = IFFT(I);
  
  i2.value = JSON.stringify(I).replace(/-?\d+\.?\d*e?-?\d*/g,a=>(+a).toFixed(3)).replace(/-0.000/g,"0.000");
  
}
</script>
